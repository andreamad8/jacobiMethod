CXX = icc
CXXFLAGS = -std=c++11 -pthread -O3
FF_SERVER = -I /home/spm1501/public/fastflow
HOST = -march=core-avx-i

all: serXEON parXEON ffXEON

serXEON: src/jacobiser.cpp
	$(CXX) $(HOST) src/jacobiser.cpp -o bin/jacobiserXEON $(CXXFLAGS)

parXEON: src/jacobiPar.cpp
	$(CXX) $(HOST) src/jacobiPar.cpp -o bin/jacobiParXEON $(CXXFLAGS)

ffXEON: src/jacobiFor.cpp
	$(CXX) $(HOST) src/jacobiFor.cpp -o bin/jacobiForXEON $(FF_SERVER) $(CXXFLAGS)

clean:
	rm bin/jacobiserXEON bin/jacobiParXEON bin/jacobiForXEON
